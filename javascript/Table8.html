<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- <form action="" method="post"> -->
    <h1>FETCH Get Request</h1>

    <p id='pid'></p>
    <input type="text" name="" id="Fname" />
    <button type="button" onclick="abc()">Display value</button>
    <br>
    <br>
    <label for="">ID:-</label>
    <input type="text" name="" id="id"/> <br><br>
    <label for="">Name:-</label>
    <input type="text" name="" id="name"/> <br><br>
    <label for="">E-mail:-</label>
    <input type="text" name="" id="email"/> <br><br>
    <label for="">Address:-</label>
    <input type="text" name="" id="address"/><br><br>
   

    <br>
    <br>
    <button type="button" onclick="submit()">Submit</button>
    <br><br>
     <!-- <button onclick="Delete()">Delete</button><br><br>  -->

    <table class="table" id="dsTable" border="1">
        <tbody id="data">
            <thead>
                <tr>
                    <th>User Id</th>
                    <th>Name</th>
                    <th>E-mail</th>
                    <th>Address</th>
                     <th>Action</th>
                </tr>
            </thead>

        </tbody>
    </table>


    <script>
        window.onload = abcd();

        let mydata=[]

        function submit() {

            id = document.getElementById("id").value;
            name = document.getElementById("name").value;
            email = document.getElementById("email").value;
            address = document.getElementById("address").value;

            let jsonstring = { id: id,name: name,email: email, address:{street:address}   };
            console.log(jsonstring);
            mydata.push(jsonstring);
            displayData()
          
        
        }
//                 function deleteRow(rowId){
//                  table.find("td#row-" + rowId).remove();
// }
            
                 function displayData(){
                    var temp = " ";

          mydata.forEach((t) => {
                    temp += "<tr>"; 
                    temp += "<td>" + t.id + "</td>";
                    temp += "<td>" + t.name + "</td>";
                    temp += "<td>" + t.email + "</td>";
                   temp += "<td>" + t.address.street + "</td>";
                   temp += "<td>"+"<button onClick=dele()>Delete</button>"+"</td>";
                //    temp += "</tr>";
                //     table.append(row);

                  });
                 
                 
                 document.getElementById("data").innerHTML = temp;
                 }

                 function abcd() {
            // console.log(jsonstring)
            fetch("https://jsonplaceholder.typicode.com/users")
                .then(responce => responce.json())
                .then(resp => {
                   // resp.push(jsonstring)
                    console.log(resp)

                    mydata=resp
                    displayData()

                    // dele()




                })

}
function dele(){
    document.getElementById('tr')[0].remove();
}

    </script>

</body>

</html>